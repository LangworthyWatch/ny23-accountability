{{ $formspreeId := .Site.Params.formspreeId | default "xrezvqlb" }}
<form action="https://formspree.io/f/{{ $formspreeId }}" method="POST" enctype="multipart/form-data" class="correspondence-form">

  <div class="form-group">
    <label for="name">Your Name (or "Anonymous")</label>
    <input type="text" name="name" id="name" required placeholder="John Doe or Anonymous">
  </div>

  <div class="form-group">
    <label for="email">Your Email (won't be published)</label>
    <input type="email" name="email" id="email" required placeholder="your.email@example.com">
    <small>We'll only use this to follow up if needed. Your email will not be published.</small>
  </div>

  <div class="form-group">
    <label for="date_sent">Date You Contacted His Office</label>
    <input type="date" name="date_sent" id="date_sent" required>
  </div>

  <div class="form-group">
    <label for="method">Contact Method</label>
    <select name="method" id="method" required>
      <option value="">Select a method...</option>
      <option value="email">Email</option>
      <option value="contact_form">Website Contact Form</option>
      <option value="phone">Phone Call</option>
      <option value="mail">Physical Mail</option>
      <option value="in_person">In-Person at District Office</option>
    </select>
  </div>

  <div class="form-group">
    <label for="topic">Topic</label>
    <input type="text" name="topic" id="topic" required placeholder="e.g., Medicare, Veterans Affairs, Agriculture, Infrastructure">
  </div>

  <div class="form-group">
    <label for="letter_text">Your Message (redact personal info)</label>
    <textarea name="letter_text" id="letter_text" rows="8" required placeholder="Please share what you wrote to Rep. Langworthy. Remove any personal information like your address, phone number, etc."></textarea>
    <small>Please remove any personal details before submitting.</small>
  </div>

  <div class="form-group">
    <label for="response">Response Received?</label>
    <select name="response" id="response" required>
      <option value="">Select...</option>
      <option value="none">No Response Yet</option>
      <option value="form_letter">Generic Form Letter</option>
      <option value="substantive">Substantive Response</option>
    </select>
  </div>

  <div class="form-group">
    <label for="days_waiting">Days Waiting for Response (if no response yet)</label>
    <input type="number" name="days_waiting" id="days_waiting" min="0" placeholder="e.g., 45">
  </div>

  <div class="form-group">
    <label for="response_text">Response You Received (optional)</label>
    <textarea name="response_text" id="response_text" rows="6" placeholder="If you received a response, you can paste it here. Please remove any personal information."></textarea>
    <small>If you have a physical letter or PDF, you can paste the text content here.</small>
  </div>

  <div class="form-group">
    <label for="additional_notes">Additional Notes (optional)</label>
    <textarea name="additional_notes" id="additional_notes" rows="4" placeholder="Any other relevant information about your experience contacting the office."></textarea>
  </div>

  <div class="form-group checkbox-group">
    <label>
      <input type="checkbox" name="permission" required>
      I permit publication of this information (personal details will be redacted)
    </label>
  </div>

  <div class="form-group">
    <button type="submit" class="submit-button">Submit Letter</button>
  </div>

</form>
